# Bone age regression baseline config (RSNA/Kaggle)
# Update only data.root for your machine if needed.

project:
  name: boneage-regression-template
  seed: 42

data:
  # Windows path (user-provided)
  root: "C:\\Users\\hyeon\\Documents\\miniconda_medimg_env\\data\\boneage"

  # CSV filenames inside data.root
  train_csv: "boneage-training-dataset.csv"
  test_csv: "boneage-test-dataset.csv"

  # Image directories inside data.root
  train_img_dir: "boneage-training-dataset"
  test_img_dir: "boneage-test-dataset"

  # Common Kaggle format uses PNGs named <id>.png
  image_exts: ["png", "jpg", "jpeg"]

  # Optional: include sex as a model input
  use_sex: true

  # Train/val split
  val_frac: 0.15
  stratify_age_bins: 20   # bins for approximate stratification of regression target

dataloader:
  num_workers: 4
  pin_memory: true
  batch_size: 16

model:
  backbone: "resnet34"   # "resnet34" | "resnet50" | "efficientnet_b0"  

preprocess:
  img_size: 384      # square resize
  grayscale_to_rgb: true
  normalize: "imagenet"   # "imagenet" | "none"
  augment:
    enabled: true
    rotate_deg: 7
    brightness: 0.10
    contrast: 0.10
    hflip: false

train:
  epochs: 25
  lr: 0.0003
  weight_decay: 0.0001
  loss: "l1"    # "l1" | "smoothl1"
